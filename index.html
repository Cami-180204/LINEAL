<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador PL Inteligente</title>
  <style>
    body { font-family: Arial; margin: 30px; background: #f9f9f9; }
    textarea, button, pre { width: 100%; margin-top: 10px; font-size: 16px; }
    textarea { height: 150px; padding: 10px; }
    button { padding: 12px; background: #27ae60; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e874b; }
    pre { background: white; padding: 15px; border: 1px solid #ccc; min-height: 140px; white-space: pre-wrap; }
  </style>
</head>
<body>

  <h1>üß† Generador de Modelo de Programaci√≥n Lineal</h1>
  <textarea id="enunciado" placeholder="Pega aqu√≠ tu ejercicio largo..."></textarea>
  <button onclick="enviarModelo()">Generar Modelo</button>

  <h2>Modelo Generado:</h2>
  <pre id="resultado">Aqu√≠ aparecer√° el resultado...</pre>

  <script>
    async function enviarModelo() {
      const texto = document.getElementById("enunciado").value.trim();
      const salida = document.getElementById("resultado");
      salida.textContent = "‚è≥ Procesando... por favor espera ~30 segundos si no responde.";

      try {
        const res = await fetch("https://plmodel.onrender.com/api/modelo", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt: texto })
        });
        if (!res.ok) throw new Error("Fall√≥ respuesta del servidor.");
        const data = await res.json();
        salida.textContent = data.resultado || "‚ùå No se pudo generar el modelo.";
      } catch (e) {
        salida.textContent = "‚ùå Error: " + e.message;
      }
    }
  </script>

</body>
</html>
